/* test.mpsl */

/* program written in mpsl
   (Minimum Profit Scripting Language) */

print("This is a test.\n");

/* hash */
days = {
	"lunes"		=> "monday",
	"martes"	=> "tuesday",
	"miercoles"	=> "wednesday",
	"jueves"	=> "thursday",
	"viernes"	=> "friday"
	};

print("English for lunes is ", days.lunes, "\n");
print("English for martes is ", days['martes'], "\n");
day="miercoles";
print("English for ", day, " is ", days[day], "\n");

/* multiple level structure */
window={};
window.ids={};
wid={ 'x' => 640, 'y' => 400 };
window.ids['main']=wid;

dump(window);

content=glob("*.*");
print("Current directory: ", ajoin(", ", content), "\n");
print("Number of files: ", size(content), "\n");

foreach(a, content)
{
	print("Value for a: ", a, "\n");
}

a="hey!";
if(a eq "hey!")
{
	local a;

	a="wow!";
	print("Value for a: ", a, "\n");
}
print("Value for a: ", a, "\n");

if(a eq "hey!")
{
	print("Variable scope is fine\n");
}
else
{
	print("Something weird happened to variable 'a'\n");
}

math={};

sub math.sum(a, b) { return(a + b); }

print(math.sum(5, 4), "\n");

_sum=math.sum;
print(_sum(6, 7), "\n");
