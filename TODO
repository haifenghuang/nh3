TODO
====

fdm_dump() should store its output in a _v or _a.

fdm_acollapse() should unreference the deleted values.

New functions to: split a string in two (from an offset), split a
string into an array (using separators), join an array into a string
(using separators).

filp should be a different project. It's config.sh should decide to use
./fdm or ../fdm in -I and -L.

Examples
========

Filp startup
------------

	fdm_v _dict;
	fdm_v _stack;

	_dict=FILP_H();
	_stack=FILP_A(0);
	filp_hset(_dict, FILP_LS("DICT"), _dict);
	filp_hset(_dict, FILP_LS("STACK"), _stack);

Filp main exec loop
-------------------

	fdm_ref(v);

	if(FDM_TYPE(v) == FILP_BINCODE)
		ret=(v->data)();
	else
	if(FDM_TYPE(v) != FILP_CODE)
		ret=FILP_SYNTAX_ERROR;
	else
	for(n=0;ret == FILP_OK && n < v->size;n++)
	{
		c=fdm_aget(v, n);

		if(FDM_TYPE(c) == FILP_BC_EXEC)
			ret=filp_exec(fdm_aget(c, 0));
		else
		if(FDM_TYPE(c) == FILP_BC_SYMV)
			filp_push(fdm_hget(_dict, fdm_aget(c, 0)));
		else
		filp_push(c);

		fdm_sweep(0);
	}

	fdm_unref(v);
